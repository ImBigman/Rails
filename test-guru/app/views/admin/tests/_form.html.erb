<%= form_with model: [:admin, @test], local:true  do |form|  %>
<%= render 'shared/errors', resource: @test %>
<p>
  <%= form.label :title %><br>
  <%= form.text_field :title, id: :test_title %>
</p>

<p>
  <%= form.label :level %><br>
  <%= form.number_field :level, id: :test_level %>
</p>

<p>
  <%= form.label :category_id %>:
  <%= form.collection_select :category_id, Category.all, :id, :title, prompt: true %>
</p>

<p>
  <%= form.label :author_id %>:
  <% if @test.persisted? %>
    <%= form.collection_select :author_id, User.all, :id, :first_name, prompt: true %>
  <% else %>
    <%= form.collection_select :author_id, User.all, :id, :first_name, prompt: true, :selected => current_user.id %>
  <% end %>
</p><br>

<%= form.submit  %>
<% end %>
